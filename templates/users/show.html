{% extends 'base.html' %}


{% block title %}{{username}}{% endblock %}


{% block content %}

<h1 class="display-1">Welcome, {{user.username}}</h1>

<div class="row">
    <div class="col-sm-10 col-12">
        <h2 class="mt-4">Feedback</h2>

        <ul>
            {% for feedback in user.feedback %}

            <div class="card" style="width: 18rem; margin-bottom: 10px;">
                <div class="card-body">
                  <h5 class="card-title">{{feedback.title}}</h5>
                  <p class="card-text">{{feedback.content}}</p>
                  <form>
                    {{form.hidden_tag()}}
                    <button class="btn btn-primary" 
                            formmethod="GET" 
                            formaction="/feedback/{{feedback.id}}/update">
                            Edit
                    </button>
                    <button class="btn btn-danger" 
                            formmethod="POST" 
                            formaction="/feedback/{{feedback.id}}/delete">
                            Delete
                    </button>
                </form>
                </div>
            </div>
            

            {% endfor %}
        </ul>

        <p>
            <a href="/users/{{ user.username }}/feedback/new" class="btn btn-primary">
              Add feedback
            </a>
        </p>
      
        <form>
            <button class="btn btn-danger btn-sm"
                    formaction="/users/{{ user.username }}/delete"
                    formmethod="POST">
              Delete User
            </button>
        </form>
    </div>
</div>

{% endblock %}